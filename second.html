<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Fetch Data and Display in Table</title>
</head>
<body>
  <button onclick="fetchData()">Get Data</button>
  <table id="data-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Address</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <script>
    function fetchData() {
      // Call first endpoint
      fetch('https://jsonplaceholder.typicode.com/users')
        .then(response => response.json())
        .then(data => {
          // Get id of first data element
          const id = data[0].id;

          // Call second endpoint with id
          return fetch(`https://jsonplaceholder.typicode.com/users/${id}/todos`)
            .then(response => response.json())
            .then(todoData => {
              // Combine data from both endpoints
              const userData = data.map(user => {
                if (user.id === id) {
                  user.todos = todoData;
                }
                return user;
              });

              // Display data in table
              const tableBody = document.querySelector('#data-table tbody');
              tableBody.innerHTML = '';
              userData.forEach(user => {
                const row = tableBody.insertRow();
                row.insertCell().textContent = user.id;
                row.insertCell().textContent = user.name;
                row.insertCell().textContent = user.email;
                row.insertCell().textContent = user.phone;
                row.insertCell().textContent = user.address.street + ', ' + user.address.city + ', ' + user.address.zipcode;
              });
            });
        })
        .catch(error => console.error(error));
    }
  </script>
</body>
</html>
